<div class="configuracion-container">
  <div class="header">
    <h2>Configuración General de la Plataforma</h2>
    <p class="subtitle">Gestiona todos los parámetros de tu plataforma desde un solo lugar</p>
  </div>

  <form (ngSubmit)="guardarConfiguracion()" #configForm="ngForm" class="config-form">
    <!-- Parámetros de la Plataforma Card -->
    <div class="card">
      <div class="card-header">
        <h3>
          <i class="icon-settings"></i>
          Parámetros de la Plataforma
        </h3>
        <div class="card-toggle" (click)="toggleSection('plataforma')">
          <i [class]="getSectionIcon('plataforma')"></i>
        </div>
      </div>
      
      <div class="card-content" [class.expanded]="isSectionExpanded('plataforma')">
        <div class="form-grid">
          <div class="form-group">
            <label for="nombreComercial">Nombre Comercial</label>
            <input 
              type="text" 
              id="nombreComercial" 
              name="nombreComercial"
              [(ngModel)]="configData.nombreComercial" 
              class="form-control"
              placeholder="Nombre de la plataforma">
            <span class="input-helper">Nombre que se mostrará en la plataforma</span>
          </div>

          <div class="form-group">
            <label for="logo">Logo</label>
            <input 
              type="url" 
              id="logo" 
              name="logo"
              [(ngModel)]="configData.logo" 
              class="form-control"
              placeholder="https://ejemplo.com/logo.png">
            <span class="input-helper">URL del logo (se mostrará una vista previa)</span>
            
            <div class="logo-preview" *ngIf="configData.logo">
              <img [src]="configData.logo" [alt]="'Logo de ' + configData.nombreComercial" class="logo-image">
            </div>
          </div>

          <div class="form-group full-width">
            <label>Colores Básicos</label>
            <div class="color-pickers">
              <div class="color-picker-item">
                <label>Primario</label>
                <div class="color-picker-wrapper">
                  <input 
                    type="color" 
                    name="colorPrimario"
                    [(ngModel)]="configData.colores.primario" 
                    class="color-input">
                  <span class="color-value">{{configData.colores.primario}}</span>
                </div>
              </div>
              
              <div class="color-picker-item">
                <label>Secundario</label>
                <div class="color-picker-wrapper">
                  <input 
                    type="color" 
                    name="colorSecundario"
                    [(ngModel)]="configData.colores.secundario" 
                    class="color-input">
                  <span class="color-value">{{configData.colores.secundario}}</span>
                </div>
              </div>
              
              <div class="color-picker-item">
                <label>Fondo</label>
                <div class="color-picker-wrapper">
                  <input 
                    type="color" 
                    name="colorFondo"
                    [(ngModel)]="configData.colores.fondo" 
                    class="color-input">
                  <span class="color-value">{{configData.colores.fondo}}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="emailContacto">Email de Contacto</label>
            <input 
              type="email" 
              id="emailContacto" 
              name="emailContacto"
              [(ngModel)]="configData.contacto.email" 
              class="form-control"
              placeholder="contacto@ejemplo.com">
          </div>

          <div class="form-group">
            <label for="telefonoContacto">Teléfono de Contacto</label>
            <input 
              type="tel" 
              id="telefonoContacto" 
              name="telefonoContacto"
              [(ngModel)]="configData.contacto.telefono" 
              class="form-control"
              placeholder="+1 234 567 8900">
          </div>

          <div class="form-group full-width">
            <label for="direccionContacto">Dirección</label>
            <input 
              type="text" 
              id="direccionContacto" 
              name="direccionContacto"
              [(ngModel)]="configData.contacto.direccion" 
              class="form-control"
              placeholder="Calle 123, Ciudad, País">
          </div>
        </div>
      </div>
    </div>

    <!-- Textos Legales Card -->
    <div class="card">
      <div class="card-header">
        <h3>
          <i class="icon-document"></i>
          Textos Legales Configurables
        </h3>
        <div class="card-toggle" (click)="toggleSection('legales')">
          <i [class]="getSectionIcon('legales')"></i>
        </div>
      </div>
      
      <div class="card-content" [class.expanded]="isSectionExpanded('legales')">
        <div class="form-grid">
          <div class="form-group full-width">
            <label for="terminos">Términos y Condiciones</label>
            <textarea 
              id="terminos" 
              name="terminos"
              [(ngModel)]="configData.textosLegales.terminos" 
              class="form-control textarea-lg"
              rows="6"
              placeholder="Términos y condiciones de la plataforma"></textarea>
            <span class="input-helper">Estos términos se mostrarán a los usuarios durante el proceso de compra</span>
          </div>

          <div class="form-group full-width">
            <label for="politica">Política de Privacidad</label>
            <textarea 
              id="politica" 
              name="politica"
              [(ngModel)]="configData.textosLegales.politica" 
              class="form-control textarea-lg"
              rows="6"
              placeholder="Política de privacidad"></textarea>
            <span class="input-helper">Información sobre cómo se manejan los datos personales</span>
          </div>

          <div class="form-group full-width">
            <label for="mensajesCompra">Mensajes Informativos en la Compra</label>
            <textarea 
              id="mensajesCompra" 
              name="mensajesCompra"
              [(ngModel)]="configData.textosLegales.mensajesCompra" 
              class="form-control textarea-md"
              rows="4"
              placeholder="Mensajes informativos que se mostrarán durante la compra"></textarea>
            <span class="input-helper">Mensajes que aparecerán durante el proceso de compra</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Configuración de Negocio Card -->
    <div class="card">
      <div class="card-header">
        <h3>
          <i class="icon-business"></i>
          Configuración de Negocio
        </h3>
        <div class="card-toggle" (click)="toggleSection('negocio')">
          <i [class]="getSectionIcon('negocio')"></i>
        </div>
      </div>
      
      <div class="card-content" [class.expanded]="isSectionExpanded('negocio')">
        <div class="form-grid">
          <div class="form-group">
            <label for="moneda">Moneda por Defecto</label>
            <select 
              id="moneda" 
              name="moneda"
              [(ngModel)]="configData.negocio.moneda" 
              class="form-control">
              <option value="USD">USD - Dólar Estadounidense</option>
            </select>
          </div>

          <div class="form-group">
            <label for="limiteTickets">Límite de Tickets por Cliente por Evento</label>
            <input 
              type="number" 
              id="limiteTickets" 
              name="limiteTickets"
              [(ngModel)]="configData.negocio.limiteTickets" 
              class="form-control"
              min="1"
              max="100"
              placeholder="Número máximo de tickets">
            <span class="input-helper">Cantidad máxima de tickets que un cliente puede comprar por evento</span>
          </div>

          <div class="form-group checkbox-group">
            <div class="checkbox-wrapper">
              <label class="checkbox-container">
                <input 
                  type="checkbox" 
                  name="transporteHabilitado"
                  [(ngModel)]="configData.negocio.transporteHabilitado">
                <span class="checkmark"></span>
                Activar venta de transporte
              </label>
            </div>
            <span class="input-helper">Permitir la venta de servicios de transporte en la plataforma</span>
          </div>

          <div class="form-group checkbox-group">
            <div class="checkbox-wrapper">
              <label class="checkbox-container">
                <input 
                  type="checkbox" 
                  name="productosHabilitados"
                  [(ngModel)]="configData.negocio.productosHabilitados">
                <span class="checkmark"></span>
                Activar venta de productos adicionales
              </label>
            </div>
            <span class="input-helper">Habilitar la venta de productos adicionales junto con los tickets</span>
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="!configForm.form.valid">
        <i class="icon-save"></i>
        Guardar Configuración
      </button>
    </div>
  </form>
</div>